(this["webpackJsonpreact-app-1"]=this["webpackJsonpreact-app-1"]||[]).push([[4],{240:function(e,t,a){e.exports={login:"login_login__3y0Rp",login__captcha:"login_login__captcha__2CF7b",login__title:"login_login__title__19EJN",login__form:"login_login__form__1naEW",login__field:"login_login__field__3Uo7X",login__button:"login_login__button__1zaL_",login__checkbox:"login_login__checkbox__1ejbp",login__label:"login_login__label__3Hran",checkbox:"login_checkbox__hEgcb","form-controller":"login_form-controller__2azLV"}},241:function(e,t,a){e.exports={"form-controller":"formController_form-controller__2gPlU","has-error":"formController_has-error__1MHl1","form-controller__error":"formController_form-controller__error__3TjBH","form-summary-error":"formController_form-summary-error__1Bm3n"}},242:function(e,t,a){"use strict";a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return h}));var r=a(66),o=a(0),n=a.n(o),s=a(240),i=a.n(s),l=a(241),c=a.n(l),_=a(125),m=function(e){e.input;var t=e.meta,a=t.touched,r=t.error,o=e.children,s=a&&r,i=s?"".concat(c.a["form-controller"]," ").concat(c.a["has-error"]):"".concat(c.a["form-controller"]);return n.a.createElement("div",{className:i},o,s&&n.a.createElement("span",{className:c.a["form-controller__error"]},r))},f=function(e){var t=e.input,a=(e.meta,e.child,Object(r.a)(e,["input","meta","child"]));return n.a.createElement(m,e,n.a.createElement("textarea",Object.assign({},a,t)))},u=function(e){var t=e.input,a=(e.meta,e.child,Object(r.a)(e,["input","meta","child"]));return n.a.createElement(m,e,n.a.createElement("input",Object.assign({},a,t)))},p=function(e){var t=e.input,a=(e.meta,e.child,Object(r.a)(e,["input","meta","child"]));return n.a.createElement(m,e,n.a.createElement("input",Object.assign({},a,t)),n.a.createElement("span",null))},d=function(e,t,a,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return n.a.createElement("div",{className:i.a.login__label},n.a.createElement(_.a,Object.assign({className:i.a.login__field,name:e,component:t,validate:a,placeholder:r},o)))},h=function(e,t,a,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return n.a.createElement("label",{className:i.a.login__label+" "+i.a.checkbox},n.a.createElement(_.a,Object.assign({className:i.a.login__checkbox,name:e,component:t},o)),n.a.createElement("span",null,s))}},244:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var r=function(e){if(!e||0===e.length)return"Field is required"},o=function(e){return function(t){if(!(t&&t.length<e))return"Max length is ".concat(e," symbols")}}},250:function(e,t,a){e.exports={"user-info__status":"profileDetail_user-info__status__CRUeR","user-info__header":"profileDetail_user-info__header__Bf1id","user-info__detail":"profileDetail_user-info__detail__3mfKP","user-info__name":"profileDetail_user-info__name__16EmQ","user-info__desc":"profileDetail_user-info__desc__2SPAl","profile-load":"profileDetail_profile-load__3iK7O","profile-load__icon":"profileDetail_profile-load__icon__1vJLV"}},263:function(e,t,a){},264:function(e,t,a){e.exports={banner:"banner_banner__1f-gi",banner__img:"banner_banner__img__1rrRk"}},265:function(e,t,a){e.exports={"user-info":"profileInfo_user-info__GKsmG"}},266:function(e,t,a){e.exports={"profile-photo":"profilePhoto_profile-photo__2UJjN","profile-load":"profilePhoto_profile-load__2AWEC","profile-load__icon":"profilePhoto_profile-load__icon__3xAH1"}},267:function(e,t,a){e.exports={"profile-form":"profileDetailForm_profile-form__2au6w","profile-form__desc":"profileDetailForm_profile-form__desc__Hdsht","profile-form__save":"profileDetailForm_profile-form__save__2OUbz","profile-form__contacts":"profileDetailForm_profile-form__contacts__2cKmz"}},309:function(e,t,a){e.exports={posts:"posts_posts__26Znq",posts__title:"posts_posts__title__2wpzE"}},310:function(e,t,a){e.exports={"message-form":"form_message-form__3F0mB","message-form__field":"form_message-form__field__2qIxt","message-form__btn":"form_message-form__btn__3kmLz"}},311:function(e,t,a){e.exports={"post-item__top":"post_post-item__top__2oEEa","post-item__like":"post_post-item__like__OJWYc","post-item":"post_post-item__3CwAh","post-item__avatar":"post_post-item__avatar__1wayE","post-item__icon":"post_post-item__icon__1SZTb"}},316:function(e,t,a){"use strict";a.r(t);var r=a(27),o=a(28),n=a(30),s=a(29),i=a(31),l=a(0),c=a.n(l),_=a(263),m=a.n(_),f=a(264),u=a.n(f),p=function(e){return c.a.createElement("div",{className:u.a.banner},c.a.createElement("img",{src:e.banner,alt:"banner",className:u.a.banner__img}))},d=a(265),h=a.n(d),b=a(266),g=a.n(b),E=a(67),v=a.n(E),O=function(e){var t=e.url,a=e.isOwner,r=e.setProfilePhoto;return c.a.createElement("div",{className:g.a["profile-photo"]},c.a.createElement("img",{src:t||v.a,alt:"profilePhoto"}),a&&c.a.createElement("label",{className:g.a["profile-load"]},c.a.createElement("div",{className:g.a["profile-load__icon"]},c.a.createElement("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px"},c.a.createElement("path",{d:"M 18 2 L 15.585938 4.4140625 L 19.585938 8.4140625 L 22 6 L 18 2 z M 14.076172 5.9238281 L 3 17 L 3 21 L 7 21 L 18.076172 9.9238281 L 14.076172 5.9238281 z"}))),c.a.createElement("input",{type:"file",onChange:function(e){if(e.target.files.length){var t=e.target.files[0];r(t)}}})))},N=a(72),P=a(250),k=a.n(P),j=function(e){var t=Object(l.useState)(e.status),a=Object(N.a)(t,2),r=a[0],o=a[1],n=Object(l.useState)(!1),s=Object(N.a)(n,2),i=s[0],_=s[1];return Object(l.useEffect)((function(){o(e.status)}),[e.status]),c.a.createElement("div",{className:k.a["user-info__status"]},!i&&c.a.createElement("span",{onDoubleClick:function(){e.isOwner&&_(!0)}},e.status||"-----"),i&&e.isOwner&&c.a.createElement("input",{onChange:function(e){o(e.currentTarget.value)},autoFocus:!0,onBlur:function(){_(!1),e.setUserStatus(r)},value:r,type:"text"}))},w=a(267),x=a.n(w),L=a(126),S=a(242),D=a(241),y=a.n(D),I=Object(L.a)({form:"profileEdit"})((function(e){var t=e.handleSubmit,a=e.profile,r=e.error;return c.a.createElement("form",{onSubmit:t,className:x.a["profile-form"]},c.a.createElement("div",{className:x.a["profile-form__desc"]},Object(S.e)("fullName",S.b,[],"Full Name")),c.a.createElement("div",{className:x.a["profile-form__desc"]},Object(S.e)("aboutMe",S.b,[],"About Me")),c.a.createElement("div",{className:x.a["profile-form__desc"]},Object(S.e)("lookingForAJobDescription",S.c,[],"Skills")),c.a.createElement("div",{className:x.a["profile-form__desc"]},Object(S.d)("lookingForAJob",S.a,[],"",{type:"checkbox"},"Show skills")),c.a.createElement("div",{className:x.a["profile-form__contacts"]},Object.keys(a.contacts).map((function(e,t){return c.a.createElement("div",{className:x.a["profile-form__desc"],key:t},Object(S.e)("contacts.".concat(e),S.b,[],e))}))),c.a.createElement("button",{className:x.a["profile-form__save"]},"Save"),r&&c.a.createElement("div",{className:y.a["form-summary-error"]},r))})),U=function(e){return c.a.createElement(c.a.Fragment,null,e.aboutMe&&c.a.createElement("p",{className:k.a["user-info__desc"]},"About me: ",e.aboutMe),e.lookingForAJob&&c.a.createElement("p",{className:k.a["user-info__desc"]},"Skills: ",e.lookingForAJobDescription),Object.keys(e.contacts).length>0&&c.a.createElement("p",{className:k.a["user-info__desc"]},"Contacts:",Object.keys(e.contacts).map((function(t,a){return e.contacts[t]?c.a.createElement("a",{key:a,target:"_blank",rel:"noopener noreferrer",href:e.contacts[t],className:k.a["user-info__site"]},t):""}))))},z=function(e){var t=Object(l.useState)(!1),a=Object(N.a)(t,2),r=a[0],o=a[1];return c.a.createElement("div",{className:k.a["user-info__detail"]},!r&&e.isOwner&&c.a.createElement("label",{className:k.a["profile-load"],onClick:function(){o(!0)}},c.a.createElement("div",{className:k.a["profile-load__icon"]},c.a.createElement("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px"},c.a.createElement("path",{d:"M 18 2 L 15.585938 4.4140625 L 19.585938 8.4140625 L 22 6 L 18 2 z M 14.076172 5.9238281 L 3 17 L 3 21 L 7 21 L 18.076172 9.9238281 L 14.076172 5.9238281 z"})))),!r&&c.a.createElement("div",{className:k.a["user-info__header"]},e.userInfo.fullName&&c.a.createElement("h2",{className:k.a["user-info__name"]},e.userInfo.fullName),c.a.createElement(j,{isOwner:e.isOwner,setUserStatus:e.setUserStatus,status:e.status})),r?c.a.createElement(I,{onSubmit:function(t){e.saveProfileData(t).then((function(){o(!1)}))},profile:e.userInfo,initialValues:e.userInfo}):c.a.createElement(U,e.userInfo))},C=function(e){var t=e.userInfo,a=e.status,r=e.setUserStatus,o=e.isOwner,n=e.setProfilePhoto,s=e.saveProfileData;return c.a.createElement("div",{className:h.a["user-info"]},c.a.createElement(O,{setProfilePhoto:n,isOwner:o,url:t.photos.large}),c.a.createElement(z,{saveProfileData:s,userInfo:t,isOwner:o,status:a,setUserStatus:r}))},F=a(309),M=a.n(F),A=a(310),J=a.n(A),B=a(125),H=a(244),K=Object(H.a)(50),R=Object(L.a)({form:"postForm"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit,className:J.a["message-form"]},c.a.createElement(B.a,{name:"newPostText",component:S.c,validate:[H.b,K],className:J.a["message-form__field"],placeholder:"your news"}),c.a.createElement("button",{className:J.a["message-form__btn"]},"Send"))})),T=a(311),q=a.n(T),V=function(e){return c.a.createElement("div",{className:q.a["post-item"]},c.a.createElement("div",{className:q.a["post-item__top"]},c.a.createElement("div",{className:q.a["post-item__avatar"]},c.a.createElement("img",{src:e.photo?e.photo:v.a,alt:"avatar",className:q.a["post-item__icon"]})),c.a.createElement("p",{className:q.a["post-item__text"]},e.message)),c.a.createElement("div",{className:q.a["post-item__bottom"]},c.a.createElement("p",{onClick:function(){e.addLike(e.id)},className:q.a["post-item__like"]},"Likes ",e.likes)))},W=c.a.memo((function(e){var t=e.posts.map((function(t){return c.a.createElement(V,{addLike:e.addLike,photo:e.postPhoto,message:t.message,likes:t.likes,id:t.id,key:t.id})}));return c.a.createElement("div",{className:M.a.posts},c.a.createElement("h2",{className:M.a.posts__title},"My posts"),c.a.createElement(R,{onSubmit:e.addPost}),c.a.createElement("div",{className:M.a["post-list"]},t))})),G=a(32),Z=function(e){var t=e.profile,a=e.bannerUrl,r=e.setStatus,o=e.status,n=e.posts,s=e.addLike,i=e.addPost,l=e.isOwner,_=e.setProfilePhoto,f=e.saveProfileData;return t?c.a.createElement("div",{className:m.a.profile},c.a.createElement(p,{banner:a}),c.a.createElement(C,{saveProfileData:f,setProfilePhoto:_,userInfo:t,setUserStatus:r,status:o,isOwner:l}),c.a.createElement(W,{posts:n,postPhoto:t.photos.large,addLike:s,addPost:i})):c.a.createElement(G.a,null)},Q=a(82),X=a(18),Y=a(22),$=a(7),ee=a(40),te=function(e){return e.profilePage.bannerUrl},ae=function(e){return e.profilePage.profile},re=function(e){return e.profilePage.status},oe=function(e){return e.profilePage.posts},ne=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"isOwner",value:function(){return!this.props.match.params.userId||parseInt(this.props.match.params.userId)===parseInt(this.props.authorizedUserId)}},{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)?(this.props.getProfileData(e),this.props.getUserStatus(e)):this.props.history.push("/login")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){e.authorizedUserId===this.props.authorizedUserId||null!==this.props.authorizedUserId?this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile():this.props.history.push("/login")}},{key:"render",value:function(){return c.a.createElement(Z,Object.assign({},this.props,{status:this.props.status,setStatus:this.props.setStatus,setProfilePhoto:this.props.setProfilePhoto,saveProfileData:this.props.saveProfileData,isOwner:this.isOwner()}))}}]),t}(c.a.Component);t.default=Object($.d)(Y.f,Object(X.b)((function(e){return{bannerUrl:te(e),profile:ae(e),status:re(e),posts:oe(e),isAuth:Object(ee.c)(e),authorizedUserId:Object(ee.b)(e)}}),{addPost:Q.b,addLike:Q.a,getProfileData:Q.d,getUserStatus:Q.e,setStatus:Q.h,setProfilePhoto:Q.g,saveProfileData:Q.f}))(ne)}}]);
//# sourceMappingURL=4.d7edd576.chunk.js.map