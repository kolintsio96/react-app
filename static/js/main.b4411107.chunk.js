(this["webpackJsonpreact-app-1"]=this["webpackJsonpreact-app-1"]||[]).push([[1],{100:function(e,t,n){e.exports=n.p+"static/media/banner.ddd28f54.jpg"},101:function(e,t,n){e.exports=n.p+"static/media/friend.f2dd56b5.jpg"},102:function(e,t,n){e.exports=n.p+"static/media/friend1.749d3201.png"},103:function(e,t,n){e.exports=n.p+"static/media/friend2.32c97db4.png"},104:function(e,t,n){e.exports=n.p+"static/media/logo.4de2f4e3.png"},13:function(e,t,n){e.exports={user:"user_user__2W8WP",user__photo:"user_user__photo__MQNne",user__follow:"user_user__follow__3OtVj",user__info:"user_user__info__1jlAh",user__wrap:"user_user__wrap__1_q81",user__fullname:"user_user__fullname__3g9DL",user__status:"user_user__status__12l1z",user__name:"user_user__name__38Tfv",user__country:"user_user__country__1ONUQ",user__city:"user_user__city__2sNFs"}},154:function(e,t,n){e.exports=n(241)},241:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(51),o=n.n(s),i=n(61),u=n.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(27),l=n(28),f=n(30),d=n(29),p=n(31),A=n(22),_=n(92),g=n.n(_),m=n(68),h=n(53),E=n.n(h),v=n(13),w=n.n(v),b=n(69),O=n.n(b),C=n(15),P=function(e){var t=e.followingUser,n=e.id,a=e.user,s=e.inProgressFollowing;return r.a.createElement("div",{className:w.a.user},r.a.createElement("div",{className:w.a.user__wrap},r.a.createElement(C.b,{to:"/profile/".concat(n)},r.a.createElement("img",{src:a.photos.large?a.photos.large:O.a,alt:"userPhoto",className:w.a.user__photo})),r.a.createElement("button",{disabled:-1!==s.indexOf(n),className:w.a.user__follow,onClick:function(){t(n,a.followed)}},a.followed?"Unfollow":"follow")),r.a.createElement("div",{className:w.a.user__info},r.a.createElement("div",{className:w.a.user__name},r.a.createElement("h3",{className:w.a.user__fullname},a.name),r.a.createElement("p",{className:w.a.user__status},a.status)),r.a.createElement("div",{className:w.a.user__location},r.a.createElement("p",{className:w.a.user__country},a.location?a.location.country:""),r.a.createElement("p",{className:w.a.user__city},a.location?a.location.city:""))))},N=n(52),D=n(74),y=n(25),U=n.n(y),F=n(94),j=n.n(F),T=function(e){for(var t=e.totalItems,n=e.pageSize,s=e.currentPage,o=e.handleEvent,i=e.sizeStep,u=void 0===i?15:i,c=t/n,l=[],f=Object(a.useState)(1),d=Object(D.a)(f,2),p=d[0],A=d[1],_=(p-1)*u+1,g=p*u,m=Math.floor(c/u),h=1;h<=c;h++)l.push(h);var E=l.filter((function(e){return e>=_&&e<=g})).map((function(e){return r.a.createElement("span",{key:e,className:j()(U.a.pagination__item,Object(N.a)({},U.a.pagination__item_active,s===e)),onClick:function(){o(e)}},e)}));return r.a.createElement("div",{className:U.a.pagination},r.a.createElement("button",{className:U.a.pagination__btn,onClick:function(){A(p-1)},disabled:1===p},"prev"),r.a.createElement("div",{className:U.a.pagination__items},E),r.a.createElement("button",{className:U.a.pagination__btn,onClick:function(){A(p+1)},disabled:p===m},"next"))},L=function(e){var t=e.users,n=e.pagination,a=e.changePage,s=Object(m.a)(e,["users","pagination","changePage"]),o=t.map((function(e){return r.a.createElement(P,{key:e.id,id:e.id,user:e,followingUser:s.followingUser,inProgressFollowing:s.inProgressFollowing})}));return r.a.createElement("div",{className:E.a.users},r.a.createElement("h2",{className:E.a.users__title},"Users"),r.a.createElement("div",{className:E.a.users__container},o),r.a.createElement(T,{totalItems:n.total,pageSize:n.limit,currentPage:n.current,handleEvent:a}))},S=n(18),Q=n(24),x=n(3),I=n(5),B=n.n(I),k=n(8),H=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(x.a)({},e,{},a):e}))},M="/users/FOLLOW",V=function(e){return{type:M,id:e}},z=function(e){return{type:"/users/UNFOLLOW",id:e}},R=function(e){return{type:"/users/SET_ACTIVE_PAGINATION",page:e}},G=function(e){return{type:"/users/TOGGLE_IS_FETCHING",isFetching:e}},X=function(e,t){return{type:"/users/TOGGLE_FOLLOWING",isFetching:e,id:t}},J={users:[],pagination:{total:0,current:1,limit:10},isFetching:!1,inProgressFollowing:[]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(x.a)({},e,{users:H(e.users,t.id,"id",{followed:!0})});case"/users/UNFOLLOW":return Object(x.a)({},e,{users:H(e.users,t.id,"id",{followed:!1})});case"/users/SET_USER":return Object(x.a)({},e,{users:Object(Q.a)(t.users)});case"/users/SET_ACTIVE_PAGINATION":return Object(x.a)({},e,{pagination:Object(x.a)({},e.pagination,{current:t.page})});case"/users/SET_TOTAL_PAGINATION":return Object(x.a)({},e,{pagination:Object(x.a)({},e.pagination,{total:t.total})});case"/users/TOGGLE_IS_FETCHING":return Object(x.a)({},e,{isFetching:t.isFetching});case"/users/TOGGLE_FOLLOWING":return Object(x.a)({},e,{inProgressFollowing:t.isFetching?[].concat(Object(Q.a)(e.inProgressFollowing),[t.id]):[e.inProgressFollowing.filter((function(e){return e!==t.id}))]});default:return Object(x.a)({},e)}},W=n(32),Y=n(7),Z=n(98),q=Object(Z.a)((function(e){return e.usersPage.users}),(function(e){return e})),$=function(e){return e.usersPage.pagination.total},ee=function(e){return e.usersPage.pagination.current},te=function(e){return e.usersPage.pagination.limit},ne=function(e){return e.usersPage.isFetching},ae=function(e){return e.usersPage.inProgressFollowing},re=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).changePage=function(e){n.props.getUsers(e,n.props.pagination.limit)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.pagination;this.props.getUsers(e.current,e.limit)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(W.a,null):null,r.a.createElement(L,{changePage:this.changePage,users:this.props.users,followingUser:this.props.followingUser,pagination:this.props.pagination,inProgressFollowing:this.props.inProgressFollowing}))}}]),t}(r.a.Component),se={follow:V,unfollow:z,toggleFollowing:X,getUsers:function(e,t){return function(n){var a;return B.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n(R(e)),n(G(!0)),r.next=4,B.a.awrap(k.d.getUsersData(e,t));case 4:a=r.sent,n({type:"/users/SET_USER",users:a.items}),n({type:"/users/SET_TOTAL_PAGINATION",total:a.totalCount}),n(G(!1));case 8:case"end":return r.stop()}}))}},followingUser:function(e,t){return function(n){var a,r;return B.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n(X(!0,e)),a=t?k.d.unfollowUser(e):k.d.followUser(e),s.next=4,B.a.awrap(a);case 4:r=s.sent,n(X(!1,e)),0!==r.resultCode||t?n(z(e)):n(V(e));case 7:case"end":return s.stop()}}))}}},oe=Object(Y.d)(Object(S.b)((function(e){return{users:q(e),pagination:{total:$(e),current:ee(e),limit:te(e)},isFetching:ne(e),inProgressFollowing:ae(e)}}),se))(re),ie=function(e){return function(t){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(W.a,null)},r.a.createElement(e,t))}},ue=n(65),ce=n.n(ue),le=function(){return r.a.createElement("div",{className:ce.a["not-found"]},r.a.createElement("h1",{className:ce.a["not-found__title"]},"404 Not Found"))},fe=r.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,318))})),de=r.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,319))})),pe=r.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,320))})),Ae=function(){return r.a.createElement("div",{className:g.a.content},r.a.createElement(A.d,null,r.a.createElement(A.b,{exact:!0,path:"/",render:function(){return r.a.createElement(A.a,{to:"/profile"})}}),r.a.createElement(A.b,{path:"/profile/:userId?",render:ie(fe)}),r.a.createElement(A.b,{path:"/messages",render:ie(de)}),r.a.createElement(A.b,{path:"/users",render:function(){return r.a.createElement(oe,null)}}),r.a.createElement(A.b,{path:"/login",render:ie(pe)}),r.a.createElement(A.b,{path:"*",render:function(){return r.a.createElement(le,null)}})))},_e=n(34),ge=n.n(_e),me=function(e){return r.a.createElement("header",{className:ge.a.header},r.a.createElement("img",{src:e.logo,alt:"Logo",className:ge.a.header__logo}),e.isAuth?r.a.createElement("div",{className:ge.a.header__auth},r.a.createElement(C.b,{to:"/profile"},e.login),r.a.createElement("button",{className:ge.a.header__logout,onClick:e.logout},"Log out")):r.a.createElement(C.b,{className:ge.a.header__logout,to:"/login"},"Login"))},he=n(33),Ee=n(40),ve=function(e){return e.header.logo},we=function(e){function t(){return Object(c.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(me,this.props)}}]),t}(r.a.Component),be=Object(Y.d)(Object(S.b)((function(e){return{logo:ve(e),login:Object(Ee.d)(e),email:Object(Ee.d)(e),isAuth:Object(Ee.c)(e),id:Object(Ee.b)(e)}}),{logout:he.d}))(we),Oe=n(35),Ce=n.n(Oe),Pe=n(54),Ne=n.n(Pe),De=function(e){return r.a.createElement("div",{className:Ne.a.nav__item},r.a.createElement(C.b,{to:e.url,activeClassName:Ne.a.active,className:Ne.a.nav__link},e.title))},ye=n(42),Ue=n.n(ye),Fe=function(e){return r.a.createElement("div",{className:Ue.a.friends__item},r.a.createElement("div",{className:Ue.a.friends__icon},r.a.createElement("img",{className:Ue.a.friends__img,src:e.url,alt:""})),r.a.createElement("p",{className:Ue.a.friends__name},e.name))},je=function(e){var t=e.sidebar.links.map((function(e){return r.a.createElement(De,{title:e.title,url:e.url,key:e.id})})),n=e.sidebar.friends.map((function(e){return r.a.createElement(Fe,{name:e.name,url:e.photoUrl,key:e.id})}));return r.a.createElement("div",{className:Ce.a.sidebar},r.a.createElement("nav",{className:Ce.a.nav},t),r.a.createElement("div",{className:Ce.a.friends},r.a.createElement("h2",{className:Ce.a.friends__title},"Friends"),r.a.createElement("div",{className:Ce.a.friends__wrap},n)))},Te=function(e){return e.sidebar},Le=Object(Y.d)(Object(S.b)((function(e){return{sidebar:Te(e)}})))(je),Se={initialized:!1},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/app/INITIALIZED_SUCCESS":return Object(x.a)({},e,{initialized:!0});default:return e}},xe=function(e){return e.app.initialized},Ie=n(99),Be=n(84),ke=n(85),He=n(101),Me=n.n(He),Ve=n(102),ze=n.n(Ve),Re=n(103),Ge=n.n(Re),Xe={links:[{id:1,title:"Profile",url:"/profile"},{id:2,title:"Messages",url:"/messages"},{id:3,title:"Users",url:"/users"}],friends:[{id:1,name:"Andrew",photoUrl:Me.a},{id:2,name:"Igor",photoUrl:ze.a},{id:3,name:"Vlad",photoUrl:Ge.a}]},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;arguments.length>1&&arguments[1];return Object(x.a)({},e)},Ke=n(104),We={logo:n.n(Ke).a},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We;arguments.length>1&&arguments[1];return Object(x.a)({},e)},Ze=n(91),qe=Object(Y.c)({profilePage:Be.c,messagesPage:ke.b,usersPage:K,sidebar:Je,header:Ye,auth:he.a,form:Ze.a,app:Qe}),$e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,et=Object(Y.e)(qe,$e(Object(Y.a)(Ie.a))),tt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).catchAllUnhandledErrors=function(e,t){console.error(e),console.error(t)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.initializationApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:u.a["app-wrapper"]},r.a.createElement(be,null),r.a.createElement(Le,null),r.a.createElement(Ae,null)):r.a.createElement(W.a,null)}}]),t}(r.a.Component),nt=Object(Y.d)(A.g,Object(S.b)((function(e){return{initialized:xe(e)}}),{initializationApp:function(){return function(e){var t;return B.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e(Object(he.b)()),n.next=3,B.a.awrap(Promise.all([t]));case 3:e({type:"/app/INITIALIZED_SUCCESS"});case 4:case"end":return n.stop()}}))}}}))(tt),at=function(){return r.a.createElement(C.a,null,r.a.createElement(S.a,{store:et},r.a.createElement(nt,null)))};o.a.render(r.a.createElement(at,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},25:function(e,t,n){e.exports={pagination:"Pagination_pagination__2jxSO",pagination__btn:"Pagination_pagination__btn__5yx-V",pagination__items:"Pagination_pagination__items__3uPH1",pagination__item:"Pagination_pagination__item__cmRMR",pagination__item_active:"Pagination_pagination__item_active__34F80"}},32:function(e,t,n){"use strict";var a=n(0),r=n.n(a),s=n(97),o=n.n(s);t.a=function(){return r.a.createElement("div",{className:o.a.preloader},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}},33:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p}));var a=n(3),r=n(5),s=n.n(r),o=n(8),i=n(36),u={login:null,email:null,userId:null,isAuth:!1,captchaUrl:null},c=function(e,t,n,a){return{type:"/auth/SET_AUTH_INFO",payload:{userId:e,login:t,email:n,isAuth:a}}},l=function(e){return{type:"/auth/SET_CAPTCHA_URL",payload:{captchaUrl:e}}},f=function(){return function(e){var t,n,a,r,i;return s.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,s.a.awrap(o.a.getAuthData());case 2:0===(t=u.sent).resultCode&&(n=t.data,a=n.id,r=n.login,i=n.email,e(c(a,r,i,!0)));case 4:case"end":return u.stop()}}))}},d=function(e){return function(t){var n;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(o.a.login(e));case 2:0===(n=a.sent).resultCode?(t(f()),t(l(null))):10===n.resultCode?t(A()):t(Object(i.a)("login",{_error:n.messages}));case 4:case"end":return a.stop()}}))}},p=function(){return function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(o.a.logout());case 2:0===t.sent.resultCode&&e(c(null,null,null,!1));case 4:case"end":return t.stop()}}))}},A=function(){return function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(o.c.getCaptchaUrl());case 2:t=n.sent,e(l(t.url));case 4:case"end":return n.stop()}}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/auth/SET_CAPTCHA_URL":case"/auth/SET_AUTH_INFO":return Object(a.a)({},e,{},t.payload);default:return e}}},34:function(e,t,n){e.exports={header:"header_header__lQPkg",header__logo:"header_header__logo__2zkTc",header__auth:"header_header__auth__2N62N",header__logout:"header_header__logout__2N2Mh"}},35:function(e,t,n){e.exports={sidebar:"sidebar_sidebar__1slPZ",friends__title:"sidebar_friends__title__1TEpD",friends__wrap:"sidebar_friends__wrap__2FcSl",nav:"sidebar_nav__3oG6N"}},40:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return o}));var a=function(e){return e.auth.userId},r=function(e){return e.auth.isAuth},s=function(e){return e.auth.captchaUrl},o=function(e){return e.auth.email}},42:function(e,t,n){e.exports={friends__item:"friend_friends__item__RZgCC",friends__icon:"friend_friends__icon__YiCqv",friends__img:"friend_friends__img__2Axgw",friends__name:"friend_friends__name__3-Tno"}},43:function(e,t,n){e.exports=n.p+"static/media/post--avatar.94a22e03.png"},53:function(e,t,n){e.exports={users:"users_users__1HZXe",users__title:"users_users__title__DrQId",users__container:"users_users__container__1Qi9C"}},54:function(e,t,n){e.exports={nav__item:"navItem_nav__item__q9VU5",nav__link:"navItem_nav__link__X8QK2",active:"navItem_active__34Mzf"}},61:function(e,t,n){e.exports={"app-wrapper":"src_app-wrapper__2p7KA"}},65:function(e,t,n){e.exports={"not-found":"notFound_not-found__3HlZF"}},69:function(e,t){e.exports="data:image/png;base64,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"},8:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));var a=n(96),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0",headers:{"API-KEY":"caa3113d-ed1c-441a-8936-bf51c84925b7"}}),s={getUsersData:function(e,t){return r.get("/users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followUser:function(e){return r.post("/follow/".concat(e)).then((function(e){return e.data}))},unfollowUser:function(e){return r.delete("/follow/".concat(e)).then((function(e){return e.data}))}},o={getProfileData:function(e){return r.get("/profile/".concat(e)).then((function(e){return e.data}))},setUserStatus:function(e){return r.put("/profile/status",{status:e}).then((function(e){return e.data}))},getUserStatus:function(e){return r.get("/profile/status/".concat(e)).then((function(e){return e.data}))},setProfilePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},saveProfileData:function(e){return r.put("/profile",e).then((function(e){return e.data}))}},i={getAuthData:function(){return r.get("/auth/me").then((function(e){return e.data}))},login:function(e){return r.post("/auth/login",e).then((function(e){return e.data}))},logout:function(){return r.delete("/auth/login").then((function(e){return e.data}))}},u={getCaptchaUrl:function(){return r.get("security/get-captcha-url").then((function(e){return e.data}))}}},84:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return E})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return b}));var a=n(24),r=n(3),s=n(5),o=n.n(s),i=n(43),u=n.n(i),c=n(100),l=n.n(c),f=n(8),d=n(36),p="/profile/ADD-POST",A="/profile/ADD-LIKE",_=function(e){return{type:p,data:e}},g=function(e){return{type:"/profile/SET_USER_STATUS",status:e}},m=function(e){return{type:A,id:e}},h=function(e){return function(t){var n;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(f.b.getProfileData(e));case 2:n=a.sent,t({type:"/profile/SET_PROFILE",profile:n});case 4:case"end":return a.stop()}}))}},E=function(e){return function(t){var n;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(f.b.getUserStatus(e));case 2:n=a.sent,t(g(n));case 4:case"end":return a.stop()}}))}},v=function(e){return function(t){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.awrap(f.b.setUserStatus(e));case 3:0===n.sent.resultCode&&t(g(e)),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),null,null,[[0,7]])}},w=function(e){return function(t){var n;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(f.b.setProfilePhoto(e));case 2:0===(n=a.sent).resultCode&&t({type:"/profile/SET_USER_PHOTO",photos:n.data.photos});case 4:case"end":return a.stop()}}))}},b=function(e){return function(t,n){var a,r,s;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=n().auth.userId,i.next=3,o.a.awrap(f.b.saveProfileData(e));case 3:if(0!==(r=i.sent).resultCode){i.next=8;break}t(h(a)),i.next=12;break;case 8:return s={contacts:{}},r.messages.length&&r.messages.forEach((function(e,t){-1!==e.toLowerCase().indexOf("facebook")?s.contacts.facebook=r.messages[t]:-1!==e.toLowerCase().indexOf("website")?s.contacts.website=r.messages[t]:-1!==e.toLowerCase().indexOf("vk")?s.contacts.vk=r.messages[t]:-1!==e.toLowerCase().indexOf("twitter")?s.contacts.twitter=r.messages[t]:-1!==e.toLowerCase().indexOf("instagram")?s.contacts.instagram=r.messages[t]:-1!==e.toLowerCase().indexOf("youtube")?s.contacts.youtube=r.messages[t]:-1!==e.toLowerCase().indexOf("github")?s.contacts.github=r.messages[t]:-1!==e.toLowerCase().indexOf("mainlink")?s.contacts.mainLink=r.messages[t]:-1!==e.toLowerCase().indexOf("fullname")?s.fullName=r.messages[t]:-1!==e.toLowerCase().indexOf("aboutme")?s.aboutMe=r.messages[t]:-1!==e.toLowerCase().indexOf("lookingforajobdescription")&&(s.lookingForAJobDescription=r.messages[t])})),t(Object(d.a)("profileEdit",s)),i.abrupt("return",Promise.reject(r.messages[0]));case 12:case"end":return i.stop()}}))}},O={posts:[{id:1,message:"Post 1",likes:1,photo:u.a},{id:2,message:"Post 2",likes:32,photo:u.a},{id:3,message:"Post 3",likes:10,photo:u.a}],profile:{aboutMe:null,contacts:{facebook:null,website:null,vk:null,twitter:null,instagram:null,youtube:null,github:null,mainLink:null},lookingForAJob:!1,lookingForAJobDescription:null,fullName:null,userId:6039,photos:{small:null,large:null}},bannerUrl:l.a,status:""};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var n={id:e.posts.length+1,message:t.data.newPostText,likes:0,photo:u.a};return Object(r.a)({},e,{posts:[].concat(Object(a.a)(e.posts),[n])});case"/profile/DELETE-LIKE":return Object(r.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case A:return Object(r.a)({},e,{posts:e.post.posts.map((function(e){return e.id===t.id?Object(r.a)({},e,{likes:e.likes+1}):e}))});case"/profile/SET_PROFILE":return Object(r.a)({},e,{profile:Object(r.a)({},t.profile)});case"/profile/SET_USER_STATUS":return Object(r.a)({},e,{status:t.status});case"/profile/SET_USER_PHOTO":return Object(r.a)({},e,{profile:Object(r.a)({},e.profile,{photos:t.photos})});default:return e}}},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(24),r=n(3),s=function(e){return{type:"/dialogs/ADD-MESSAGE",newMessageText:e}},o={dialogs:[{id:1,name:"Andrew"},{id:2,name:"Igor"},{id:3,name:"Vlad"}],messages:[{id:1,message:"Hello"},{id:2,message:"Hello"},{id:3,message:"Hello"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/dialogs/ADD-MESSAGE":var n={id:e.messages.length+1,message:t.newMessageText};return Object(r.a)({},e,{messages:[].concat(Object(a.a)(e.messages),[n]),newMessageText:""});default:return e}}},92:function(e,t,n){e.exports={content:"content_content__O8nUd"}},97:function(e,t,n){e.exports={preloader:"preloader_preloader__j0LAe","lds-roller":"preloader_lds-roller__3YU7l"}}},[[154,2,3]]]);
//# sourceMappingURL=main.b4411107.chunk.js.map