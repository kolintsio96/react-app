(this["webpackJsonpreact-app-1"]=this["webpackJsonpreact-app-1"]||[]).push([[4],{240:function(e,t,a){e.exports={login:"login_login__3y0Rp",login__title:"login_login__title__19EJN",login__form:"login_login__form__1naEW",login__field:"login_login__field__3Uo7X",login__button:"login_login__button__1zaL_",login__checkbox:"login_login__checkbox__1ejbp",login__label:"login_login__label__3Hran",checkbox:"login_checkbox__hEgcb","form-controller":"login_form-controller__2azLV"}},241:function(e,t,a){e.exports={"form-controller":"formController_form-controller__2gPlU","has-error":"formController_has-error__1MHl1","form-controller__error":"formController_form-controller__error__3TjBH","form-summary-error":"formController_form-summary-error__1Bm3n"}},242:function(e,t,a){"use strict";a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return p})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return b}));var n=a(66),r=a(0),o=a.n(r),s=a(240),i=a.n(s),l=a(241),c=a.n(l),_=a(125),u=function(e){e.input;var t=e.meta,a=t.touched,n=t.error,r=e.children,s=a&&n,i=s?"".concat(c.a["form-controller"]," ").concat(c.a["has-error"]):"".concat(c.a["form-controller"]);return o.a.createElement("div",{className:i},r,s&&o.a.createElement("span",{className:c.a["form-controller__error"]},n))},m=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return o.a.createElement(u,e,o.a.createElement("textarea",Object.assign({},a,t)))},f=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return o.a.createElement(u,e,o.a.createElement("input",Object.assign({},a,t)))},p=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return o.a.createElement(u,e,o.a.createElement("input",Object.assign({},a,t)),o.a.createElement("span",null))},d=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.a.createElement("div",{className:i.a.login__label},o.a.createElement(_.a,Object.assign({className:i.a.login__field,name:e,component:t,validate:a,placeholder:n},r)))},b=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return o.a.createElement("label",{className:i.a.login__label+" "+i.a.checkbox},o.a.createElement(_.a,Object.assign({className:i.a.login__checkbox,name:e,component:t},r)),o.a.createElement("span",null,s))}},244:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e||0===e.length)return"Field is required"},r=function(e){return function(t){if(!(t&&t.length<e))return"Max length is ".concat(e," symbols")}}},250:function(e,t,a){e.exports={"user-info__status":"profileDetail_user-info__status__CRUeR","user-info__header":"profileDetail_user-info__header__Bf1id","user-info__detail":"profileDetail_user-info__detail__3mfKP","user-info__name":"profileDetail_user-info__name__16EmQ","user-info__desc":"profileDetail_user-info__desc__2SPAl"}},263:function(e,t,a){},264:function(e,t,a){e.exports={banner:"banner_banner__1f-gi",banner__img:"banner_banner__img__1rrRk"}},265:function(e,t,a){e.exports={"user-info":"profileInfo_user-info__GKsmG"}},266:function(e,t,a){e.exports={"profile-photo":"profilePhoto_profile-photo__2UJjN"}},267:function(e,t,a){e.exports={posts:"posts_posts__26Znq",posts__title:"posts_posts__title__2wpzE"}},268:function(e,t,a){e.exports={"message-form":"form_message-form__3F0mB","message-form__field":"form_message-form__field__2qIxt","message-form__btn":"form_message-form__btn__3kmLz"}},310:function(e,t,a){e.exports={"post-item__top":"post_post-item__top__2oEEa","post-item__like":"post_post-item__like__OJWYc","post-item":"post_post-item__3CwAh","post-item__avatar":"post_post-item__avatar__1wayE","post-item__icon":"post_post-item__icon__1SZTb"}},315:function(e,t,a){"use strict";a.r(t);var n=a(27),r=a(28),o=a(30),s=a(29),i=a(31),l=a(0),c=a.n(l),_=a(263),u=a.n(_),m=a(264),f=a.n(m),p=function(e){return c.a.createElement("div",{className:f.a.banner},c.a.createElement("img",{src:e.banner,alt:"banner",className:f.a.banner__img}))},d=a(265),b=a.n(d),g=a(266),h=a.n(g),E=a(67),v=a.n(E),N=function(e){var t=e.url;return c.a.createElement("div",{className:h.a["profile-photo"]},c.a.createElement("img",{src:t||v.a,alt:"profilePhoto"}))},k=a(250),j=a.n(k),O=a(88),x=function(e){var t=Object(l.useState)(e.status),a=Object(O.a)(t,2),n=a[0],r=a[1],o=Object(l.useState)(!1),s=Object(O.a)(o,2),i=s[0],_=s[1];return Object(l.useEffect)((function(){r(e.status)}),[e.status]),c.a.createElement("div",{className:j.a["user-info__status"]},!i&&c.a.createElement("span",{onDoubleClick:function(){_(!0)}},e.status||"-----"),i&&c.a.createElement("input",{onChange:function(e){r(e.currentTarget.value)},autoFocus:!0,onBlur:function(){_(!1),e.setUserStatus(n)},value:n,type:"text"}))},S=function(e){return c.a.createElement("div",{className:j.a["user-info__detail"]},c.a.createElement("div",{className:j.a["user-info__header"]},e.fullName&&c.a.createElement("h2",{className:j.a["user-info__name"]},e.fullName),c.a.createElement(x,{setUserStatus:e.setUserStatus,status:e.status})),e.aboutMe&&c.a.createElement("p",{className:j.a["user-info__desc"]},"About me: ",e.aboutMe),e.lookingForAJob&&c.a.createElement("p",{className:j.a["user-info__desc"]},"Job status: ",e.lookingForAJobDescription),e.contacts.length>0&&c.a.createElement("p",{className:j.a["user-info__desc"]},"Web Site:",Object.keys(e.contacts).map((function(t,a){return null!=e.contacts[t]?c.a.createElement("a",{key:a,target:"_blank",rel:"noopener noreferrer",href:e.contacts[t],className:j.a["user-info__site"]},t):""}))))},U=function(e){var t=e.userInfo,a=e.status,n=e.setUserStatus;return c.a.createElement("div",{className:b.a["user-info"]},c.a.createElement(N,{url:t.photos.large}),c.a.createElement(S,Object.assign({},t,{status:a,setUserStatus:n})))},P=a(267),y=a.n(P),D=a(268),C=a.n(D),I=a(125),L=a(126),z=a(242),J=a(244),w=Object(J.a)(50),A=Object(L.a)({form:"postForm"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit,className:C.a["message-form"]},c.a.createElement(I.a,{name:"newPostText",component:z.c,validate:[J.b,w],className:C.a["message-form__field"],placeholder:"your news"}),c.a.createElement("button",{className:C.a["message-form__btn"]},"Send"))})),F=a(310),M=a.n(F),B=function(e){return c.a.createElement("div",{className:M.a["post-item"]},c.a.createElement("div",{className:M.a["post-item__top"]},c.a.createElement("div",{className:M.a["post-item__avatar"]},c.a.createElement("img",{src:e.photo?e.photo:v.a,alt:"avatar",className:M.a["post-item__icon"]})),c.a.createElement("p",{className:M.a["post-item__text"]},e.message)),c.a.createElement("div",{className:M.a["post-item__bottom"]},c.a.createElement("p",{onClick:function(){e.addLike(e.id)},className:M.a["post-item__like"]},"Likes ",e.likes)))},R=c.a.memo((function(e){var t=e.posts.map((function(t){return c.a.createElement(B,{addLike:e.addLike,photo:e.postPhoto,message:t.message,likes:t.likes,id:t.id,key:t.id})}));return c.a.createElement("div",{className:y.a.posts},c.a.createElement("h2",{className:y.a.posts__title},"My posts"),c.a.createElement(A,{onSubmit:e.addPost}),c.a.createElement("div",{className:y.a["post-list"]},t))})),T=a(32),q=function(e){var t=e.profile,a=e.bannerUrl,n=e.setStatus,r=e.status,o=e.posts,s=e.addLike,i=e.addPost;return t?c.a.createElement("div",{className:u.a.profile},c.a.createElement(p,{banner:a}),c.a.createElement(U,{userInfo:t,setUserStatus:n,status:r}),c.a.createElement(R,{posts:o,postPhoto:t.photos.large,addLike:s,addPost:i})):c.a.createElement(T.a,null)},H=a(81),W=a(18),G=a(22),K=a(7),Z=a(39),Q=function(e){return e.profilePage.bannerUrl},V=function(e){return e.profilePage.profile},X=function(e){return e.profilePage.status},Y=function(e){return e.profilePage.posts},$=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)?(this.props.getProfileData(e),this.props.getUserStatus(e)):this.props.history.push("/login")}},{key:"componentDidUpdate",value:function(e,t,a){e.authorizedUserId===this.props.authorizedUserId||null!==this.props.authorizedUserId||this.props.history.push("/login")}},{key:"render",value:function(){return c.a.createElement(q,Object.assign({},this.props,{status:this.props.status,setStatus:this.props.setStatus}))}}]),t}(c.a.Component);t.default=Object(K.d)(G.f,Object(W.b)((function(e){return{bannerUrl:Q(e),profile:V(e),status:X(e),posts:Y(e),isAuth:Object(Z.b)(e),authorizedUserId:Object(Z.a)(e)}}),{addPost:H.b,addLike:H.a,getProfileData:H.d,getUserStatus:H.e,setStatus:H.f}))($)}}]);
//# sourceMappingURL=4.bc74dd03.chunk.js.map