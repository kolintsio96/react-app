{"version":3,"sources":["components/content/login/index.module.scss","components/common/formController/index.module.scss","components/common/formController/formController.js","utils/validation/index.js","components/content/messages/index.module.scss","components/content/messages/dialogUser/index.module.scss","components/content/messages/message/index.module.scss","components/content/messages/messageForm/index.module.scss","components/content/messages/dialogUser/index.jsx","components/content/messages/message/index.jsx","components/content/messages/messageForm/form.jsx","components/content/messages/index.jsx","hoc/withAuthRedirect.js","redux/selectors/dialogs-selectors.js","components/content/messages/messagesContainer.jsx"],"names":["module","exports","FormController","input","meta","touched","error","children","hasError","fieldClass","style","className","Textarea","props","restProps","child","Input","Checkbox","createField","name","component","validator","placeholder","styleLogin","validate","createCheckbox","text","required","value","length","maxLength","DialogUser","dialog","to","id","activeClassName","dialog__user_active","dialog__user","Message","dialog__message","message","maxLength50","MessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","Messages","dialogsElements","dialogs","map","el","key","messagesElements","messages","isAuth","messages__title","messages__wrap","messages__users","messages__chat","addMessage","mapStateToProps","auth","withAuthRedirect","Component","RedirectComponent","this","React","connect","getMessages","state","messagesPage","getDialogs","compose","dispatch","data","action","addMessageActionCreator","newMessageText"],"mappings":"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","file":"static/js/5.5adfd363.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__3y0Rp\",\"login__captcha\":\"login_login__captcha__2CF7b\",\"login__title\":\"login_login__title__19EJN\",\"login__form\":\"login_login__form__1naEW\",\"login__field\":\"login_login__field__3Uo7X\",\"login__button\":\"login_login__button__1zaL_\",\"login__checkbox\":\"login_login__checkbox__1ejbp\",\"login__label\":\"login_login__label__3Hran\",\"checkbox\":\"login_checkbox__hEgcb\",\"form-controller\":\"login_form-controller__2azLV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-controller\":\"formController_form-controller__2gPlU\",\"has-error\":\"formController_has-error__1MHl1\",\"form-controller__error\":\"formController_form-controller__error__3TjBH\",\"form-summary-error\":\"formController_form-summary-error__1Bm3n\"};","import React from \"react\";\nimport styleLogin from './../../content/login/index.module.scss'\nimport style from './index.module.scss'\nimport {Field} from \"redux-form\";\n\nconst FormController = ({input, meta:{touched, error}, children}) => {\n    const hasError = touched && error;\n    const fieldClass = hasError ? `${style['form-controller']} ${style['has-error']}` : `${style['form-controller']}`;\n    return (\n        <div className={fieldClass}>\n            {children}\n            {hasError && <span className={style['form-controller__error']}>{error}</span>}\n        </div>\n    )\n};\nexport const Textarea = (props) => {\n    const {input, meta, child, ...restProps} = props;\n    return (\n        <FormController {...props}>\n            <textarea {...restProps} {...input} ></textarea>\n        </FormController>\n    )\n};\nexport const Input = (props) => {\n    const {input, meta, child, ...restProps} = props;\n    return(\n        <FormController {...props}>\n            <input {...restProps} {...input} />\n        </FormController>\n    )\n};\nexport const Checkbox = (props) => {\n    const {input, meta, child, ...restProps} = props;\n    return(\n        <FormController {...props}>\n            <input {...restProps} {...input} />\n            <span></span>\n        </FormController>\n    )\n};\nexport const createField = (name, component, validator, placeholder, props = {}) => {\n    return (\n        <div className={styleLogin['login__label']}>\n            <Field className={styleLogin['login__field']} name={name} component={component} validate={validator} placeholder={placeholder} {...props}/>\n        </div>\n    )\n};\nexport const createCheckbox = (name, component, validator, placeholder, props = {}, text = '') => {\n    return (\n        <label className={styleLogin['login__label'] + ' ' + styleLogin['checkbox']}>\n            <Field className={styleLogin['login__checkbox']} name={name} component={component}  {...props}/>\n            <span>{text}</span>\n        </label>\n    )\n};","export const required = value => {\n    if(value && value.length !== 0) return undefined;\n    return 'Field is required';\n};\nexport const maxLength = (length) => {\n    return value => {\n        if(value && value.length < length) return undefined;\n        return `Max length is ${length} symbols`;\n    };\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"messages_messages__3E_ZK\",\"messages__title\":\"messages_messages__title__2Q16F\",\"messages__wrap\":\"messages_messages__wrap__3coLF\",\"messages__users\":\"messages_messages__users__3VhTE\",\"messages__dialogs\":\"messages_messages__dialogs__ALMAL\",\"messages__chat\":\"messages_messages__chat__OFSai\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"dialogUser_dialog__3aDU-\",\"dialog__user\":\"dialogUser_dialog__user__2FJMV\",\"dialog__user_active\":\"dialogUser_dialog__user_active__3TxEN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"message_dialog__1y9od\",\"dialog__message\":\"message_dialog__message__2LtoD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post-form\":\"messageForm_post-form__3qcvK\",\"post-form__field\":\"messageForm_post-form__field__3eLtP\",\"post-form__btn\":\"messageForm_post-form__btn__6LBKO\"};","import React from 'react';\nimport style from './index.module.scss';\nimport {NavLink} from 'react-router-dom'\nconst DialogUser = (props) => {\n    return (\n        <div className={style.dialog}>\n            <NavLink to={`/messages/${props.id}`} activeClassName={style.dialog__user_active} className={style.dialog__user}>{props.name}</NavLink>\n        </div>\n    )\n}\nexport default DialogUser","import React from 'react';\nimport style from './index.module.scss';\nconst Message = (props) => {\n    return (\n        <div className={style.dialog}>\n            <p className={style.dialog__message}>{props.message}</p>\n        </div>\n    )\n}\nexport default Message","import React from 'react';\nimport style from './index.module.scss';\nimport {Field, reduxForm} from \"redux-form\";\nimport {Textarea} from \"../../../common/formController/formController\";\nimport {maxLength, required} from \"../../../../utils/validation\";\nlet maxLength50 = maxLength(50);\nconst MessageForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit} className={style['post-form']}>\n            <Field className={style['post-form__field']} validate={[required, maxLength50]} component={Textarea} name={'newMessageText'} placeholder={'your message'}/>\n            <button className={style['post-form__btn']}>Send</button>\n        </form>\n    )\n};\nconst MessageFormRedux = reduxForm({\n    form: 'messageForm'\n})(MessageForm);\nexport default MessageFormRedux","import React from 'react';\nimport style from './index.module.scss';\nimport DialogUser from \"./dialogUser\";\nimport Message from \"./message\";\nimport MessageForm from \"./messageForm/form\";\nimport {Redirect} from \"react-router-dom\";\nconst Messages = (props) => {\n    let dialogsElements = props.dialogs.map(el => <DialogUser name={el.name} id={el.id} key={el.id}/>),\n        messagesElements = props.messages.map(el => <Message message={el.message} id={el.id} key={el.id}/>);\n    if(!props.isAuth) return <Redirect to='/login'/>\n    return (\n        <div className={style.messages}>\n            <h2 className={style.messages__title}>Dialogs</h2>\n            <div className={style.messages__wrap}>\n                <div className={style.messages__users}>\n                    {dialogsElements}\n                </div>\n                <div className={style.messages__chat}>\n                    {messagesElements}\n                    <MessageForm onSubmit={props.addMessage}/>\n                </div>\n            </div>\n        </div>\n    )\n}\nexport default Messages","import {connect} from \"react-redux\";\nimport React from \"react\";\nimport {Redirect} from \"react-router-dom\";\n\nlet mapStateToProps = (props) => {\n    return {\n        isAuth: props.auth.isAuth\n    }\n}\n\nlet withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component{\n        render() {\n            return this.props.isAuth ? <Component {...this.props}/> : <Redirect to='/login'/>;\n        }\n    }\n    let ConnectRedirectComponent = connect(mapStateToProps)(RedirectComponent);\n    return ConnectRedirectComponent;\n}\nexport default withAuthRedirect","export const getMessages = state => {\n    return state.messagesPage.messages;\n};\nexport const getDialogs = state => {\n    return state.messagesPage.dialogs;\n};","import Messages from \"./index\";\nimport {addMessageActionCreator} from \"../../../redux/dialogs-reducer\";\nimport {connect} from \"react-redux\";\nimport withAuthRedirect from \"../../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\nimport {isAuth} from \"../../../redux/selectors/auth-selectors\";\nimport {getDialogs, getMessages} from \"../../../redux/selectors/dialogs-selectors\";\n\nlet mapStateToProps = (state) => {\n    return {\n        dialogs: getDialogs(state),\n        messages: getMessages(state),\n        isAuth: isAuth(state)\n    }\n};\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addMessage: (data) => {\n            let action = addMessageActionCreator(data.newMessageText)\n            dispatch(action);\n        }\n    }\n};\nexport default compose(withAuthRedirect,connect(mapStateToProps, mapDispatchToProps))(Messages)"],"sourceRoot":""}